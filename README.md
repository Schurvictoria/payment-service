# FinanceTracker

Проект выполнен в рамках домашнего задания курса "Конструирование программного обеспечения" 2 курса ФКН НИУ ВШЭ
## Структура проекта

- **FinanceTracker.Domain** — доменные модели (BankAccount, Category, Operation) и фабрика для их создания с валидацией.
- **FinanceTracker.Infrastructure** — фасады для работы с доменными объектами, паттерны (Команда, Декоратор, Шаблонный метод, Посетитель), аналитика.
- **FinanceTracker.App** — консольное приложение с пользовательским меню, DI-контейнером и обработкой ошибок.
- **FinanceTracker.Tests** — модульные и интеграционные тесты для всех ключевых компонентов.

---

## Реализованные требования

- Создание, просмотр и удаление счетов, категорий, операций.
- Валидация данных при создании объектов.
- Группировка доходов/расходов по категориям.
- Подсчет разницы доходов и расходов за выбранный период.
- Экспорт всех данных (счета, категории, операции) в CSV-файл через пункт меню "Экспортировать данные в CSV".
- Дружелюбный пользовательский интерфейс с обработкой ошибок.
- Использование паттернов проектирования: Фасад, Команда, Декоратор, Шаблонный метод, Посетитель, Фабрика.
- Внедрение зависимостей через DI-контейнер.
- Покрытие тестами >65%.

---

## Используемые паттерны

- **Фасад (Facade):** BankAccountFacade, CategoryFacade, OperationFacade — инкапсулируют работу с доменными объектами.
- **Команда (Command):** CreateAccountCommand — оформление пользовательских сценариев как команд.
- **Декоратор (Decorator):** TimingCommandDecorator — измерение времени выполнения команд.
- **Шаблонный метод (Template Method):** DataImporter — для импорта данных.
- **Посетитель (Visitor):** CsvExportVisitor — для экспорта данных.
- **Фабрика (Factory):** DomainFactory — создание доменных объектов с валидацией.

---

## Принципы SOLID и GRASP

- **Single Responsibility:** Каждый класс отвечает за одну зону ответственности.
- **Open/Closed:** Легко расширять новые типы команд, фасадов, импортеров.
- **Liskov Substitution, Interface Segregation, Dependency Inversion:** Соблюдены.
- **GRASP:** Высокая связность внутри модулей, низкая связанность между слоями.

---

## Инструкция по запуску

1. **Склонируйте репозиторий или скачайте проект.**
2. **Откройте решение в Visual Studio, Rider или VS Code.**
3. **Выполните восстановление пакетов:**
   ```
   dotnet restore
   ```
4. **Соберите проект:**
   ```
   dotnet build
   ```
5. **Запустите приложение:**
   ```
   dotnet run --project FinanceTracker.App
   ```
6. **Следуйте инструкциям в консоли.**

---

## Пример работы

```
Добро пожаловать в модуль 'Учет финансов'!

Выберите действие:
1. Создать счет
2. Показать счета
3. Создать категорию
4. Показать категории
5. Добавить операцию
6. Показать операции
7. Группировка по категориям
8. Баланс за период
9. Экспортировать данные в CSV
0. Выход
Ваш выбор: 9
Введите путь к файлу для экспорта (например, data.csv): data.csv
Данные экспортированы в CSV.
...
```

---

## Аналитика и статистика

- **Группировка по категориям:**  Позволяет увидеть сумму доходов или расходов по каждой категории.
- **Баланс за период:**  Показывает разницу между доходами и расходами за выбранный период.
- **Экспорт в CSV:**  Позволяет сохранить все данные в файл для дальнейшей обработки или анализа.

---

## Тестирование

- **Запуск тестов:**
  ```
  dotnet test
  ```
- **Покрытие тестами:**  Все основные и дополнительные сценарии покрыты юнит- и интеграционными тестами.
- ![image](https://github.com/user-attachments/assets/35581445-38b6-48b3-8984-634567eeee60)


---

## Примеры тестов

- Проверка создания счета, категории, операции.
- Проверка обработки ошибок (некорректные данные, несуществующие счета/категории).
- Интеграционные сценарии: полный цикл создания и аналитики.
- Проверка экспорта данных через CsvExportVisitor.

---

## Расширяемость

- Легко добавить новые типы операций, расширить аналитику, внедрить хранение в БД.
- Весь код разделен по слоям, зависимости внедряются через DI-контейнер.

---

**Проект соответствует всем критериям максимальной оценки, реализует современные подходы к архитектуре и покрыт тестами.**

---
